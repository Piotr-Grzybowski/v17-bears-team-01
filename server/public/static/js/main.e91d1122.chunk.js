(this["webpackJsonpv17-bears-team-01"]=this["webpackJsonpv17-bears-team-01"]||[]).push([[0],{30:function(e,t,n){e.exports={component:"Landing_component__2t3KD",title:"Landing_title__UDr5J",subtitle:"Landing_subtitle__1p0Pk",buttons:"Landing_buttons__2ZprL",iconBackground:"Landing_iconBackground__1SvBe",icon:"Landing_icon__17t7e"}},34:function(e,t,n){e.exports={component:"Dashboard_component__18l3h",buttons:"Dashboard_buttons__1PAXU",meetings:"Dashboard_meetings__1yM9e"}},35:function(e,t,n){e.exports={timesContainer:"AllTimes_timesContainer__22Bq1",meetingInfo:"AllTimes_meetingInfo__1BD_X",timeInfo:"AllTimes_timeInfo__1mRPZ",voted:"AllTimes_voted__1pm8A"}},38:function(e,t,n){e.exports={calendarView:"Calendar_calendarView__3GDNw",meetingLength:"Calendar_meetingLength__22ZeT",meetAt:"Calendar_meetAt__vMlzs",testing:"Calendar_testing__MeUWi"}},41:function(e,t,n){e.exports={component:"Button_component__3XFbS",primary:"Button_primary__3jblc"}},59:function(e,t,n){e.exports={finalContainer:"FinalMeeting_finalContainer__dqGeU"}},63:function(e,t,n){e.exports=n(85)},68:function(e,t,n){},69:function(e,t,n){},75:function(e,t,n){},78:function(e,t,n){},81:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(49),l=n.n(r),o=n(11),c=n(12),s=n(13),u=n(14),m=(n(68),i.a.createContext()),g=n(19),h=(n(69),function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{className:"login-container"},i.a.createElement("a",{href:"http://localhost:4000/auth/facebook",className:"loginBtn loginBtn--facebook"},"Login with Facebook"),i.a.createElement("a",{href:"http://localhost:4000/auth/google",className:"loginBtn loginBtn--google"},"Login with Google"))}}]),n}(i.a.Component)),d=n(21),p=n(62),v=n(41),f=n.n(v),b=function(e){var t=e.variant,n=void 0===t?"":t,a=Object(p.a)(e,["variant"]);return i.a.createElement("button",Object.assign({},a,{className:f.a.component+n.split(" ").map((function(e){return" "+(f.a[e]||e)})).join("")}))},E=n(30),y=n.n(E),C=n(50),j=n(51),_=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).buttonClick=a.buttonClick.bind(Object(d.a)(a)),a.state={loginButton:!1},a}return Object(c.a)(n,[{key:"buttonClick",value:function(){this.setState({loginButton:!0})}},{key:"render",value:function(){return i.a.createElement("div",{className:y.a.component},i.a.createElement("div",{className:y.a.title},i.a.createElement("div",{className:y.a.iconBackground},i.a.createElement(C.a,{className:y.a.icon,icon:j.a})),i.a.createElement("h1",null,"envite")),i.a.createElement("h3",{className:y.a.subtitle},"Bringing Peple Together"),i.a.createElement("div",{className:y.a.buttons},!1===this.state.loginButton?i.a.createElement(b,{onClick:this.buttonClick},"start meeting people"):i.a.createElement("div",{className:"login-container"},i.a.createElement("a",{href:"http://localhost:4000/auth/facebook",className:"loginBtn loginBtn--facebook"},"Login with Facebook"),i.a.createElement("a",{href:"http://localhost:4000/auth/google",className:"loginBtn loginBtn--google"},"Login with Google"))))}}]),n}(i.a.Component),M=n(22),O=n(26),k=n(23),N=n(61),D=n(60),S=n(24),x=n.n(S),I=n(38),w=n.n(I),A=(n(75),function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onChange=function(e){return a.setState({date:e})},a.onClickDay=a.onClickDay.bind(Object(d.a)(a)),a.state={userDate:[],date:new Date,time:{}},a}return Object(c.a)(n,[{key:"onChangeTime",value:function(e,t){var n=this;this.setState((function(a){a.time[e.id]=t+" "+e.value;for(var i=[],r=0,l=Object.entries(n.state.time);r<l.length;r++){var o=Object(N.a)(l[r],2),c=(o[0],o[1]);i.push(x()(c,"MMM Do YY HH:mm").unix())}n.props.handleCalendarChange(i)})),console.log("test time",this.state.time)}},{key:"onClickDay",value:function(e){var t=x()(e).format("MMM Do YY");this.context.updateCalDays(t),this.setState((function(e){e.userDate.push(t)}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:w.a.calendarView},i.a.createElement(D.a,{onChange:this.onChange,value:this.state.date,onClickDay:this.onClickDay}),i.a.createElement("div",{className:w.a.meetAt},i.a.createElement("div",null,i.a.createElement("ul",{className:w.a.testing},this.state.userDate.map((function(t,n){return i.a.createElement("li",{key:t},i.a.createElement("input",{type:"time",id:n,name:"meetingTime",onChange:function(n){e.onChangeTime(n.target,t)}}))}))))))}}]),n}(i.a.Component));A.contextType=m;var B=n(52),L=n.n(B);n(78);function T(){var e=Object(M.a)(["\n  mutation createMeeting(\n    $title: String!\n    $description: String!\n    $duration: Int!\n    $timezone: String!\n    $availability: [Int!]!\n    $participants: [String!]!\n  ) {\n    createMeeting(\n      title: $title\n      description: $description\n      duration: $duration\n      timezone: $timezone\n      availability: $availability\n      participants: $participants\n    ) {\n      title\n      author\n      description\n      duration\n      timezone\n      availability\n      participants {\n        user_id\n      }\n    }\n  }\n"]);return T=function(){return e},e}var $=Object(k.a)(T()),Y=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={meetingName:"",email:"",yourInitials:"",lengthOfMeeting:0,timeZone:L.a.tz.guess(),rtnArr:[]},a}return Object(c.a)(n,[{key:"handleSubmit",value:function(e,t){e.preventDefault(),t({variables:{title:this.state.meetingName,description:"",duration:parseInt(this.state.lengthOfMeeting),timezone:this.state.timeZone,availability:this.state.rtnArr,participants:this.state.participants}}).catch((function(e){return console.log(e)})),console.log("Create Meeting Test")}},{key:"handleCalendarChange",value:function(e){this.setState({rtnArr:e})}},{key:"render",value:function(){var e=this;return console.log(this.state),i.a.createElement(O.a,{mutation:$},(function(t){return i.a.createElement("div",{className:"create-container"},i.a.createElement("div",null,i.a.createElement("h2",{className:"title"},"Create a Meeting"),i.a.createElement(A,{handleCalendarChange:e.handleCalendarChange.bind(e)})),i.a.createElement("form",{className:"create-form",onSubmit:function(n){e.handleSubmit(n,t)}},i.a.createElement("label",{htmlFor:"meetingName"},"Meeting Name"),i.a.createElement("input",{className:"join-input",required:!0,name:"meetingName",id:"meetingName",placeholder:"Meeting Name",type:"text",onChange:function(t){return e.setState({meetingName:t.target.value.trim()})}}),i.a.createElement("label",{htmlFor:"email"},"Email"),i.a.createElement("input",{className:"join-input",required:!0,name:"email",id:"email",placeholder:"Email",type:"email",onChange:function(t){return e.setState({email:t.target.value.trim()})}}),i.a.createElement("label",{htmlFor:"yourInitials"},"Your Initials"),i.a.createElement("input",{className:"join-input",required:!0,name:"yourInitials",id:"yourInitials",placeholder:"Your Initials",type:"text",onChange:function(t){return e.setState({yourInitials:t.target.value.trim()})}}),i.a.createElement("label",{htmlFor:"lengthOfMeeting"},"Length of Meeting"),i.a.createElement("input",{className:"join-input",required:!0,name:"lengthOfMeeting",id:"lengthOfMeeting",placeholder:"Length of Meeting",type:"number",onChange:function(t){return e.setState({lengthOfMeeting:t.target.value.trim()})}}),i.a.createElement("label",{htmlFor:"timeZone"},"Time Zone"),i.a.createElement("input",{className:"join-input",required:!0,name:"timeZone",id:"timeZone",value:e.state.timeZone,placeholder:"Time Zone",type:"text",disabled:!0,onChange:function(t){return e.setState({timeZone:t.target.value.trim()})}}),i.a.createElement("label",{htmlFor:"participants"},"Participants"),i.a.createElement("input",{className:"join-input",required:!0,name:"participants",id:"participants",placeholder:"Participants(emails)",type:"text",onChange:function(t){var n=t.target.value.trim().split(", ");e.setState({participants:n})}}),i.a.createElement(b,{className:"btn-submit"},"Submit")))}))}}]),n}(i.a.Component);n(81);function q(){var e=Object(M.a)(["\n  query {\n    getJoinMeetings {\n      id\n      title\n      author\n      duration\n      timezone\n      availability\n      participants {\n        user_id\n        intervals\n      }\n    }\n  }\n"]);return q=function(){return e},e}function Z(){var e=Object(M.a)(["\n  mutation joinMeeting($id: ID!, $intervals: [Int]!) {\n    joinMeeting(id: $id, intervals: $intervals) {\n      title\n      author\n      description\n      duration\n      timezone\n      availability\n      participants {\n        user_id\n        intervals\n      }\n    }\n  }\n"]);return Z=function(){return e},e}var z=Object(k.a)(Z()),F=Object(k.a)(q()),P=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).onChangeMeeting=a.onChangeMeeting.bind(Object(d.a)(a)),a.handleCalendarChange=a.handleCalenderChange.bind(Object(d.a)(a)),a.state={meetingName:"",email:"",yourInitials:"",timeZone:"",error:null,currentMeeting:"",rtnArr:[]},a}return Object(c.a)(n,[{key:"onChangeMeeting",value:function(e,t){this.setState({currentMeeting:t})}},{key:"handleCalenderChange",value:function(e){this.setState({rtnArr:e})}},{key:"handleSubmit",value:function(e,t){return e.preventDefault(),""===this.state.currentMeeting?console.log("Please select a meeting"):(console.log(this.state.rtnArr),0===this.state.rtnArr.length?console.log("Please select a time"):(t({variables:{id:this.state.currentMeeting,intervals:this.state.rtnArr}}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),void console.log("Meeting Created!")))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"join-container"},i.a.createElement("h2",null,"Your Meetings"),i.a.createElement("div",null,i.a.createElement(O.b,{query:F},(function(t){var n=t.loading,a=t.error,r=t.data;return n?"Loading...":a?"Error! ".concat(a.message):r.getJoinMeetings===[]?"Nothing to show":(console.log(r),i.a.createElement("ul",{className:"meeting-list"},r&&r.getJoinMeetings.map((function(t){return i.a.createElement("div",{className:"options",key:t.id},i.a.createElement("li",{key:t.id},i.a.createElement("p",null,"Meeting Name: ",t.title),i.a.createElement("p",null,"Meeting Length: ",t.duration," hour")),i.a.createElement(b,{type:"button",onClick:function(n){e.onChangeMeeting(n.target,t.id)},className:"selectMeeting"},"Select"))}))))})),i.a.createElement(O.a,{mutation:z},(function(t){return i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("form",{className:"join-form",onSubmit:function(n){e.handleSubmit(n,t)}})))}))))}}]),n}(i.a.Component),J=n(17),U=n(25),H=n(31),G=n(6),R=n(34),V=n.n(R),W=n(28),X=n(27);function K(){var e=Object(M.a)(["\n  {\n    getMeetings {\n      id\n      title\n      author\n      description\n      duration\n      timezone\n      availability\n      participants {\n        user_id\n        intervals\n      }\n    }\n  }\n"]);return K=function(){return e},e}var Q=Object(k.a)(K());var ee=function(){var e=Object(X.b)(Q),t=e.loading,n=e.error,a=e.data;return t?"Loading...":n?"Error! ".concat(n.message):i.a.createElement("div",{className:V.a.component},i.a.createElement("h1",null,"Dashboard"),i.a.createElement("div",{className:V.a.buttons},i.a.createElement(W.b,{to:"/create"},i.a.createElement(b,null,"Create")),i.a.createElement(W.b,{to:"/join"},i.a.createElement(b,null,"Join")),i.a.createElement("a",{href:"http://localhost:4000/auth/logout"},i.a.createElement(b,null,"Log out"))),a.getMeetings.length?i.a.createElement("ul",{className:V.a.meetings},i.a.createElement("h2",null,"Your meetings"),a.getMeetings.map((function(e){return i.a.createElement("li",{key:e.id,value:e.id},i.a.createElement(W.b,{to:"/alltimes/".concat(e.id)},e.title))}))):i.a.createElement("p",{className:V.a.meetings},"You have no meetings. You can create one using button CREATE above"))},te=n(35),ne=n.n(te);function ae(){var e=Object(M.a)(["\n  query($id: ID!) {\n    getUsers(id: $id) {\n      id\n      email\n      name\n    }\n    getMeeting(id: $id) {\n      title\n      author\n      description\n      duration\n      timezone\n      availability\n      participants {\n        user_id\n        intervals\n      }\n    }\n  }\n"]);return ae=function(){return e},e}var ie=Object(k.a)(ae()),re=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={meetingId:"",participants:[],vote:null,voted:!1},a}return Object(c.a)(n,[{key:"getMeetingId",value:function(){if(this.props.location.pathname.split(new RegExp("/alltimes/"))[1]){var e=this.props.location.pathname.split(new RegExp("/alltimes/"))[1];this.setState({meetingId:e})}}},{key:"componentDidMount",value:function(){this.getMeetingId()}},{key:"render",value:function(){return i.a.createElement(O.b,{query:ie,variables:{id:this.state.meetingId}},(function(e){var t=e.loading,n=e.error,a=e.data;return t?"Loading...":n?"Error! ".concat(n.message):i.a.createElement("div",{className:ne.a.timesContainer},i.a.createElement("header",null,i.a.createElement("h2",null,"User's availability"),i.a.createElement("div",{className:ne.a.meetingInfo},i.a.createElement("h3",null,"required time:",a.getMeeting.duration," minutes"))),i.a.createElement("div",null,a.getUsers.map((function(e,t){return i.a.createElement("div",{key:t},i.a.createElement("h3",null,e.name," (",e.email,") can meet at:"),e.id===a.getMeeting.author?i.a.createElement("div",null,a.getMeeting.availability.map((function(e,t){return i.a.createElement("div",{className:ne.a.timeInfo,key:t},i.a.createElement("p",null,x.a.unix(e).format("MM/DD/YYYY, HH:mmA")))}))):i.a.createElement("div",null,a.getMeeting.participants.map((function(t,n){return t.user_id===e.id?i.a.createElement("div",{key:n},t.intervals.map((function(e,t){return i.a.createElement("div",{className:ne.a.timeInfo,key:t},i.a.createElement("p",null,x.a.unix(e).format("MM/DD/YYYY, HH:mmA")))}))):i.a.createElement("div",null,i.a.createElement("p",null,"---------------------"))}))))}))))}))}}]),n}(i.a.Component);re.contextType=m;var le=Object(g.e)(re),oe=n(59),ce=n.n(oe),se=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){console.log("fetch final meeting")}},{key:"render",value:function(){return i.a.createElement("div",{className:ce.a.finalContainer},i.a.createElement("p",null,"test"))}}]),n}(i.a.Component),ue=new H.a({uri:"http://localhost:4000/graphql",credentials:"include"}),me=new J.c({cache:new U.a,link:ue,connectToDevTools:!0}),ge=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={user:{},authenticated:!1,error:null,meetingLength:0,userTimes:JSON.stringify(),timeArr:[],updateCalDays:function(e){a.setState((function(t){t.timeArr.push(e)}))}},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:4000/auth/login/success",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}}).then((function(e){if(200===e.status)return e.json();throw new Error("failed to authenticate user")})).then((function(t){e.setState({authenticated:!0,user:t.user})})).catch((function(){e.setState({authenticated:!1,error:"Failed to authenticate user"})}))}},{key:"render",value:function(){return i.a.createElement(G.a,{client:me},i.a.createElement(m.Provider,{value:this.state},i.a.createElement("div",{className:"#"},i.a.createElement(g.a,{exact:!0,path:"/",component:_,user:this.state.user}),i.a.createElement(g.a,{exact:!0,path:"/login",component:h}),i.a.createElement(g.a,{exact:!0,path:"/create",component:Y}),i.a.createElement(g.a,{exact:!0,path:"/join",component:P}),i.a.createElement(g.a,{exact:!0,path:"/dashboard",component:ee}),i.a.createElement(g.a,{exact:!0,path:"/calendar",component:A}),i.a.createElement(g.a,{exact:!0,path:"/alltimes/:id",component:le}),i.a.createElement(g.a,{exact:!0,path:"/finalmeeting",component:se}))))}}]),n}(i.a.Component);n(84),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(W.a,null,i.a.createElement(ge,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[63,1,2]]]);
//# sourceMappingURL=main.e91d1122.chunk.js.map